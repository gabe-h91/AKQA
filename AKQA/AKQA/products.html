<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <title>Products</title>
    <link href="css/reset.css" rel="stylesheet" />
    <link href="sass/products.min.css" rel="stylesheet" />

    <script src="Scripts/angular.min.js"></script>
    <script>
        var productsApp = angular.module('productsApp', []);
        
        productsApp.controller('productStreamCtrl', function($scope, ProductStreamService) {
            ProductStreamService.getProducts().then(function(data){
                $scope.products = data;
            });
        });

        productsApp.factory('ProductStreamService', function($http) { 
            function getProducts(){
               return $http.get('products.json').then(function(data) {
                    return data;
                }); 
            } 
            return {getProducts: getProducts};
        });
    </script>
</head>
<body>

    <div class="products" ng-app="productsApp" ng-controller="productStreamCtrl">
        <div class="products__header">
            <h1>Women's tops</h1>

            <select name="singleSelect" ng-model="singleSelect">
                <option value="">Filter by size&hellip;</option>
                <option value="XS">XS</option>
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
            </select>
        </div>
        <div ng-repeat="product in products.data | filter:product.size" class="products__item" ng-class="{'products__item--isSale': product.isSale, 'products__item--isExclusive': product.isExclusive}">

                <img class="products__item-image" src="{{product.productImage}}" alt="{{product.productName}}" />
                <p>
                    {{product.productName}}
                </p>
                <p>
                    {{product.price}}
                </p>
                <p>Sizes: {{product.size}}</p>

        </div>

    </div>

</body>
</html>